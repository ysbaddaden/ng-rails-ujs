(function(){function e(e){var t=document.querySelector("meta[name='csrf-"+e+"']");if(t)return t.getAttribute("content")}angular.module("rails.ujs",[]).service("csrf",function(){Object.defineProperties(this,{param:{get:function(){return e("param")}},token:{get:function(){return e("token")}}})}).config(["$httpProvider",function(t){t.defaults.headers.common["X-CSRF-Token"]=e("token")}])})();angular.module("rails.ujs").directive("confirm",function(){return{restrict:"A",priority:0,require:["?method","?remote","?disableWith"],link:function(e,t,n,i){function r(e){var t=!window.confirm(n.confirm);for(var r=0;r<i.length;r++){var o=i[r];if(o&&o.cancel)o.cancel(t)}if(!t)return;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}t.on("click",r);t.on("$destroy",function(){t.off("click",r)})}}});angular.module("rails.ujs").directive("disableWith",function(){function e(){}e.prototype.cancel=function(e){this.cancelled=!!e};e.prototype.setElement=function(e){this.element=e};e.prototype.isButton=function(){var e=this.element.prop("nodeName");return e==="INPUT"||e==="BUTTON"};e.prototype.disable=function(e){if(this.isButton()){this.original=this.element.val();this.element.val(e)}else{this.original=this.element.text();this.element.text(e)}this.element.attr("disabled",true).addClass("disabled")};e.prototype.reset=function(){if(this.isButton()){this.element.val(this.original)}else{this.element.text(this.original)}this.original=null;this.element.removeAttr("disabled").removeClass("disabled")};return{restrict:"A",priority:90,controller:e,link:function(e,t,n,i){i.setElement(t);function r(){if(i.cancelled)return;i.disable(n.disableWith)}t.on("click",r);t.on("$destroy",function(){t.off("click",r)})}}});angular.module("rails.ujs").directive("method",["csrf",function(e){function t(t){return'<form action="'+t.href+'" method="post">'+'  <input type="hidden" name="'+e.param+'" value="'+e.token+'"/>'+'  <input type="hidden" name="_method" value="'+t.method.toUpperCase()+'"/> '+"</form>"}function n(){}n.prototype.cancel=function(e){this.cancelled=!!e};return{restrict:"A",priority:92,controller:n,link:function(e,n,i,r){if(n.prop("nodeName")!=="A")return;function o(e){if(r.cancelled)return;e.preventDefault();var n=angular.element(t(i))[0];document.body.appendChild(n);n.submit()}n.on("click",o);n.on("$destroy",function(){n.off("click",o)})}}}]);angular.module("rails.ujs").directive("remote",function(){function e(e,t){this.scope=e;this.http=t}e.prototype.cancel=function(e){this.cancelled=e};e.prototype.request=function(e){var t=this;var n=e.method?e.method.toLowerCase():"get";return this.http[n](e.href).then(function(e){return t.scope.success({response:e,data:e.data})},function(e){return t.scope.failure({response:e})})};return{restrict:"A",priority:91,scope:{success:"&remoteSuccess",failure:"&remoteFailure"},controller:["$scope","$http",e],require:["remote","?method","?disableWith"],link:function(e,t,n,i){var r=i[0],o=i[1],c=i[2];function l(e){if(r.cancelled)return;if(o)o.cancel(true);var t=r.request(n);if(c){t.then(function(){c.reset()})}e.preventDefault()}t.on("click",l);t.on("$destroy",function(){t.off("click",l)})}}});